{"componentChunkName":"component---src-templates-blog-post-js","path":"/z-garbage-collector/","result":{"data":{"site":{"siteMetadata":{"title":"Java Performace"}},"markdownRemark":{"id":"af012303-e97a-536e-9f67-ac99d1113b30","excerpt":"The Z Garbage Collector (ZGC) is a scalable low latency garbage collector. ZGC performs all expensive work concurrently, without stopping\r\nthe execution of…","html":"<p>The Z Garbage Collector (ZGC) is a scalable low latency garbage collector. ZGC performs all expensive work concurrently, without stopping\r\nthe execution of application threads for more than 10ms, which makes is suitable for applications which require low latency and/or use\r\na very large heap (multi-terabytes).</p>\n<p>The Z Garbage Collector is available as an experimental feature, and is enabled with the command-line options <strong>-XX:UnlockExperimentalVMOptions</strong>\r\nand <strong>-XX:+UseZGC</strong>.</p>\n<h2>Setting the Heap Size</h2>\n<p>The most important tuning option for ZGC is setting the max heap size (<strong>-Xmx</strong>). Since ZGC is a concurret collector a max heap size must be\r\nselected such that, 1) the heap can be accommodate the live-set of your application, and 2) there is enough headroom in the heap to allow allocations to be serviced while the GC is running. How much headroom is needed very much depends on the allocation rate and the live-set size of\r\nthe application. In general, the more memory you give to ZGC the better. But at the same time, wasting memory is undesirable, so it’s all about\r\nfinding a balance between memory usage and how often the GC needs to run.</p>\n<h2>Setting Number of Concurrent GC Threads</h2>\n<p>The second tuning option one might want to look at is setting the number of concurrent GC threads <strong>-XX:ConcGCThreads</strong>. ZGC has heuristics to automatically select this number. This heuristic usually works well but depending on the characteristics to automatically select this number. This\r\nheuristic usually works well but depending on the characteristics of the application this might need to be adjusted. This option essentially dictates how much CPU-time the GC should be given. Give it too much and the GC will steal too much CPU-time from the application. Give it too little, and the application might allocate garbage faster than the GC can collect it.</p>","frontmatter":{"title":"The Z Garbage Collector","date":"July 09, 2021","description":"The Z garbage Collector (ZGC) is a scalable low latency garbage collector"}},"previous":{"fields":{"slug":"/garbage-First-Collector-tuning/"},"frontmatter":{"title":"Garbage-First Garbage Collector Tuning"}},"next":{"fields":{"slug":"/java-memory-model/"},"frontmatter":{"title":"Java Memory Model"}}},"pageContext":{"id":"af012303-e97a-536e-9f67-ac99d1113b30","previousPostId":"4ba03f6f-c6ba-5754-8706-53251c4fd628","nextPostId":"d6445bcb-7d29-56c7-a133-088afafe1732"}},"staticQueryHashes":["230163734","2841359383"]}